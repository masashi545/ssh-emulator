<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>SSHエミュレータ</title>
</head>

<body　style="padding: 32px;">
    <p>
    <div class="input-group mb-3">
        <span class="input-group-text">Key Exchange Algorithm</span>
        <select id="id-kex-algorithm">
            <option>diffie-hellman-group1-sha1</option>
            <option>diffie-hellman-group14-sha1</option>
            <option>diffie-hellman-group14-sha256</option>
            <option>diffie-hellman-group16-sha512</option>
            <option>diffie-hellman-group18-sha512</option>
        </select>
    </div>
    <button type="button" class="btn btn-outline-primary" id="id-kex-button">鍵交換！</button>
    </p>
    <p>
    <div class="input-group mb-3">
        <span class="input-group-text">Username</span>
        <input type="text" id="id-username" class="form-control" aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default" value="client1">
    </div>
    <div class="input-group mb-3">
        <span class="input-group-text">Cryptographic Algorithm</span>
        <select id="id-crypt-algorithm">
            <option>ssh-rsa</option>
            <option>rsa-sha2-256</option>
            <option>rsa-sha2-512</option>
        </select>
    </div>
    <div class="input-group mb-3">
        <span class="input-group-text">Path to Pub_key</span>
        <input type="text" id="id-path-pub-key" class="form-control" aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default" value="ssh-client1/id_rsa.pub">
    </div>
    <button type="button" class="btn btn-outline-success" id="id-add-button">SSH接続！</button>

    </p>
</body>

<script>

    // 公開鍵の認証を求めるHTTP Request
    const req = new XMLHttpRequest() // XMLHttpRequest...ブラウザ上でサーバーとHTTP通信を行うためのAPI
    req.addEventListener("load", () => {
        console.log(req.responseText) // レスポンス認証成功／失敗
    })
    req.open(
        "GET", // HTTP Request Method 
        "http://localhost:8080/ssh?funct=false" // HTTP Request URL 
    )
    req.setRequestHeader("Context-Type", "application/octet-stream") // HTTP Request Header
    req.send()


</script>